{"version":3,"sources":["Components/Particles/Octree/Box.js","Components/Particles/Octree/Octree.js","Components/Particles/Components/Connections.js","Components/Particles/Octree/Particle.js","Components/Particles/Components/font.blob","Components/Particles/Components/useParticles.js","Components/Particles/Octree/Sphere.js","Components/Particles/Particles.js","Components/ScrollDown/ScrollDown.js","Components/Sky/Stars.js","Components/Sky/Sky.js","Components/Content/Portal/Ring.js","Components/Content/Portal/MagicBox.js","Components/Content/Portal/Image.js","Components/Content/Portal/Link.js","Components/Content/Portal/Text.js","Components/Content/Portal/GithubLogo.js","Components/Content/Portal/Portal.js","Components/Content/Portal/data/car2d.webp","Components/Content/Portal/data/Grootify.webp","Components/Content/Portal/data/newtonsCradle.webp","Components/Content/Portal/data/newsFeeds.webp","Components/Content/Portal/data/githubLogo.webp","Components/Content/Portal/data/morphing.webp","Components/Content/Portal/data/weather.webp","Components/Content/Portal/data/tesseract.webp","Components/Content/Portal/data/sorting.webp","Components/Content/Portal/data/attractors.webp","Components/Content/Portal/data/fractal.webp","Components/Content/Portal/data/Diffusion.webp","Components/Content/Portal/data/useContentData.js","Components/Content/Content.js","Components/Effects/CustomBloom.js","Components/Effects/Effects.js","Components/NoEffects/NoEffects.js","Components/Smoke/Smoke-Element.png","Components/Smoke/Smoke.js","Rig.js","Components/Container/useInteractions.js","Components/Container/Browser.js","Components/Container/Mobile.js","Components/Container/Container.js","Components/Background/sky.jpg","Components/Background/Background.js","Components/App/App.js","Components/App/useSkip.js","Components/QualitySelect/Progress/ProgressStyle.js","Components/QualitySelect/Progress/Dots.js","Components/QualitySelect/Progress/Progress.js","Components/QualitySelect/QualityButton/QualityButton.js","Components/QualitySelect/QualitySelect/QualitySelectStyle.js","Components/QualitySelect/QualitySelect/QualitySelect.js","Components/QualitySelect/QualityCheck.js","index.js"],"names":["Box","x","y","z","w","h","d","this","left","right","top","bottom","front","back","particle","position","range","xIntersects","yIntersects","zIntersects","Octree","boundary","sectionsLength","subSections","capacity","points","point","contains","length","push","subdivide","insert","i","newTree","Math","floor","found","intersects","forEach","section","query","octree","memo","particles","geometryRef","useRef","positionRef","colorRef","linePositions","Float32Array","lineColors","useEffect","current","needsUpdate","useFrame","clear","vertexPos","particleA","set","otherParticles","numConnections","min","j","particleB","setDrawRange","frustumCulled","ref","attach","drawRange","start","count","attachObject","args","usage","THREE","vertexColors","blending","dim","isBrowser","Particle","random","velocity","clampScalar","acceleration","jerk","textBoundaries","targetPos","startPos","neighbours","r","speedLimit","add","boundaryCheck","progress","lerpVectors","textSize","textDepth","numParticles","cbrt","window","innerWidth","generateText","font","geometry","dummyTarget","vA","vB","vC","ray","computeBoundingBox","bbox","boundingBox","dir","normalize","halfwayX","max","halfwayY","halfwayZ","counter","v","randFloat","isInside","pos","attributes","faces","fromBufferAttribute","intersectTriangle","fillWithPoints","size","height","curveSegments","Sphere","rSquared","distanceToSquared","textRange","Particles","stage","setStage","mouseRange","useState","showText","setShowText","useLoader","fontFile","useMemo","map","newParticle","Object","values","useParticles","update","easing","d3","interpolate","Text","fontSize","color","anchorX","anchorY","ScrollDown","className","StarfieldMaterial","uniforms","time","value","fade","vertexShader","fragmentShader","ShaderMaterial","genStar","Vector3","setFromSpherical","Spherical","acos","PI","Stars","React","radius","depth","saturation","factor","material","positions","colors","sizes","Array","from","Color","increment","toArray","setHSL","g","b","state","clock","getElapsedTime","starfieldMaterial","renderOrder","dispose","undefined","object","AdditiveBlending","Sky","lowQuality","Ring","dimensions","w2","h2","vertices","norm","numVertices","normals","posNdx","nrmNdx","vertex","setIndex","scale","transparent","MagicBox","debug","w1","backXOffset","h1","colorWrite","Image","image","Link","setHovered","swipingInProgress","onPointerOver","onPointerOut","onPointerUp","open","url","opacity","TextComponent","outlineColor","outlineWidth","outlineBlur","text","GithubLogo","github","e","stopPropagation","logo","Portal","xOffset","yOffset","zOffset","loader","TextureLoader","textureFiles","githubLogo","grootify","newtonsCradle","car2d","newsFeeds","morphing","weather","attractors","sorting","fractal","tesseract","Diffusion","Content","scroll","skip","setReady","ready","hovered","contentData","texturesRef","keys","key","load","texture","useContentData","diff","document","body","style","cursor","data","index","UnrealBloomPass","resolution","strength","threshold","Vector2","clearColor","pars","minFilter","LinearFilter","magFilter","format","RGBAFormat","renderTargetsHorizontal","renderTargetsVertical","nMips","resx","round","resy","renderTargetBright","WebGLRenderTarget","name","generateMipmaps","renderTargetHorizonal","renderTargetVertical","LuminosityHighPassShader","console","error","highPassShader","highPassUniforms","UniformsUtils","clone","materialHighPassFilter","defines","separableBlurMaterials","kernelSizeArray","getSeperableBlurMaterial","compositeMaterial","getCompositeMaterial","bloomTintColors","CopyShader","copyShader","copyUniforms","materialCopy","depthTest","depthWrite","enabled","needsSwap","_oldClearColor","oldClearAlpha","basic","MeshBasicMaterial","fsQuad","FullScreenQuad","width","setSize","renderer","writeBuffer","readBuffer","deltaTime","maskActive","getClearColor","getClearAlpha","oldAutoClear","autoClear","setClearColor","buffers","stencil","setTest","renderToScreen","setRenderTarget","render","inputRenderTarget","BlurDirectionX","BlurDirectionY","kernelRadius","KERNEL_RADIUS","SIGMA","colorTexture","texSize","direction","NUM_MIPS","blurTexture1","blurTexture2","blurTexture3","blurTexture4","blurTexture5","dirtTexture","bloomStrength","bloomFactors","bloomRadius","Pass","Effects","children","composer","useThree","gl","camera","scene","setScene","bloom","attachArray","NoEffects","clearDepth","extend","EffectComposer","ShaderPass","RenderPass","scratchObject3D","Object3D","randn_bm","u","num","sqrt","log","cos","cloudCount","xRange","Smoke","meshRef","smokeTexture","useTexture","smokeImage","Vector4","rotation","updateMatrix","setMatrixAt","matrix","instanceMatrix","intensity","distance","decay","Rig","mouse","lookAt","clamp","maxY","Browser","ignore","onMouseMove","useCallback","clientX","clientY","innerHeight","onScroll","prevStage","deltaY","Infinity","setTimeout","useMouseInteraction","onClick","onWheel","onPointerMove","Mobile","prevScroll","useTouchInteraction","onSwipeStart","onSwipeStop","onSwiping","handlers","useSwipeable","onSwiped","delta","preventDefaultTouchmoveEvent","trackTouch","trackMouse","rotationAngle","Container","Background","matRef","background","sky","App","setSkip","useSkip","fov","far","fallback","Stats","Loader","ProgressContainer","styled","div","Row","Dots","dots","setDots","t","clearTimeout","Progress","onOpenLayer","useProgress","active","CircularProgress","variant","StyledIconButton","IconButton","QualityButton","quality","onResetQuality","Tooltip","title","Info","QSBackground","showBackground","QSTop","transition","QSName","QSSubHeading","QSContainer","QSTitle","QSButtonsContainer","QSButton","Triangle","TriangleTop","TriangleBottom","TriangleLeft","TriangleRight","QualitySelect","setQuality","setOpacity","setTransition","setTop","setOpen","setShowBackground","setCursor","showProgress","setShowProgress","showQualityLayer","setShowQualityLayer","onSelectQuality","QualityCheck","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.402627a2.chunk.js","sourcesContent":["export default class Box {\r\n  constructor(x, y, z, w, h, d) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.z = z;\r\n    this.w = w;\r\n    this.h = h;\r\n    this.d = d;\r\n    this.left = x - w;\r\n    this.right = x + w;\r\n    this.top = y + h;\r\n    this.bottom = y - h;\r\n    this.front = z + d;\r\n    this.back = z - d;\r\n  }\r\n  contains(particle) {\r\n    return (\r\n      particle.position.x >= this.left &&\r\n      particle.position.x < this.right &&\r\n      particle.position.y >= this.bottom &&\r\n      particle.position.y < this.top &&\r\n      particle.position.z >= this.back &&\r\n      particle.position.z < this.front\r\n    );\r\n  }\r\n\r\n  xIntersects(range) {\r\n    return !(range.right < this.left || range.left > this.right);\r\n  }\r\n  yIntersects(range) {\r\n    return !(range.top < this.bottom || range.bottom > this.top);\r\n  }\r\n  zIntersects(range) {\r\n    return !(range.front < this.back || range.back > this.front);\r\n  }\r\n  intersects(range) {\r\n    return (\r\n      this.xIntersects(range) &&\r\n      this.yIntersects(range) &&\r\n      this.zIntersects(range)\r\n    );\r\n  }\r\n}\r\n","import Box from \"./Box\";\r\n\r\nexport default class Octree {\r\n  constructor(boundary = new Box(0, 0, 0, 400, 400, 400)) {\r\n    this.sectionsLength = 8;\r\n    this.subSections = [];\r\n    this.boundary = boundary;\r\n    this.capacity = 4;\r\n    this.points = [];\r\n  }\r\n  clear() {\r\n    this.subSections = [];\r\n    this.points = [];\r\n  }\r\n  insert(point) {\r\n    if (!this.boundary.contains(point)) return false;\r\n    if (this.points.length < this.capacity) {\r\n      this.points.push(point);\r\n      return true;\r\n    }\r\n    if (!this.subSections.length) {\r\n      this.subdivide();\r\n    }\r\n\r\n    for (let section of this.subSections) {\r\n      const success = section.insert(point);\r\n      if (success) return true;\r\n    }\r\n  }\r\n\r\n  subdivide() {\r\n    let { x, y, z, w, h, d } = this.boundary;\r\n    x -= w / 2;\r\n    y -= h / 2;\r\n    z -= d / 2;\r\n    for (let i = 0; i < this.sectionsLength; i++) {\r\n      const newBox = new Box(\r\n        x + (i % 2) * w,\r\n        y + Math.floor((i % 4) / 2) * h,\r\n        z + Math.floor(i / 4) * d,\r\n        w / 2,\r\n        h / 2,\r\n        d / 2\r\n      );\r\n      const newTree = new Octree(newBox);\r\n      this.subSections.push(newTree);\r\n    }\r\n  }\r\n\r\n  query(range, found = []) {\r\n    if (!this.boundary.intersects(range)) return found;\r\n    this.points.forEach((point) => {\r\n      if (range.contains(point)) found.push(point);\r\n    });\r\n\r\n    this.subSections.forEach((section) => {\r\n      section.query(range, found);\r\n    });\r\n    return found;\r\n  }\r\n}\r\n","import * as THREE from \"three\";\r\nimport { useEffect, useRef, memo } from \"react\";\r\nimport { useFrame } from \"@react-three/fiber\";\r\nimport Octree from \"../Octree/Octree\";\r\n\r\nconst octree = new Octree();\r\nconst maxConnections = 30;\r\nexport default memo(function Connections({ particles, range }) {\r\n  const geometryRef = useRef();\r\n  const positionRef = useRef();\r\n  const colorRef = useRef();\r\n  const linePositions = useRef(new Float32Array(1000 * maxConnections * 3));\r\n  const lineColors = useRef(new Float32Array(1000 * maxConnections * 3));\r\n\r\n  useEffect(() => {\r\n    const r = 0;\r\n    const g = 0.023;\r\n    const b = 0.036;\r\n    for (let i = 0; i < lineColors.current.length; i += 6) {\r\n      lineColors.current[i] = r;\r\n      lineColors.current[i + 1] = g;\r\n      lineColors.current[i + 2] = b;\r\n\r\n      lineColors.current[i + 3] = 0;\r\n      lineColors.current[i + 4] = g;\r\n      lineColors.current[i + 5] = b;\r\n    }\r\n    colorRef.current.needsUpdate = true;\r\n  }, []);\r\n\r\n  useFrame(() => {\r\n    if (!geometryRef.current) return;\r\n\r\n    octree.clear();\r\n    particles.forEach((particle) => octree.insert(particle));\r\n\r\n    let vertexPos = 0;\r\n    for (let i = 0; i < particles.length; ++i) {\r\n      const particleA = particles[i];\r\n      range.set(particleA);\r\n\r\n      const otherParticles = octree.query(range);\r\n      const numConnections = Math.min(otherParticles.length, maxConnections);\r\n      for (let j = 0; j < numConnections; j++) {\r\n        const particleB = otherParticles[j];\r\n\r\n        linePositions.current[vertexPos++] = particleA.position.x;\r\n        linePositions.current[vertexPos++] = particleA.position.y;\r\n        linePositions.current[vertexPos++] = particleA.position.z;\r\n\r\n        linePositions.current[vertexPos++] = particleB.position.x;\r\n        linePositions.current[vertexPos++] = particleB.position.y;\r\n        linePositions.current[vertexPos++] = particleB.position.z;\r\n      }\r\n    }\r\n    geometryRef.current.setDrawRange(0, vertexPos / 3);\r\n    positionRef.current.needsUpdate = true;\r\n  });\r\n\r\n  return (\r\n    <lineSegments frustumCulled={false}>\r\n      <bufferGeometry\r\n        ref={geometryRef}\r\n        attach=\"geometry\"\r\n        drawRange={{ start: 0, count: 0 }}\r\n      >\r\n        <bufferAttribute\r\n          ref={positionRef}\r\n          attachObject={[\"attributes\", \"position\"]}\r\n          args={[linePositions.current, 3]}\r\n          usage={THREE.DynamicDrawUsage}\r\n        />\r\n        <bufferAttribute\r\n          ref={colorRef}\r\n          attachObject={[\"attributes\", \"color\"]}\r\n          args={[lineColors.current, 3]}\r\n          usage={THREE.DynamicDrawUsage}\r\n        />\r\n      </bufferGeometry>\r\n      <lineBasicMaterial\r\n        attach=\"material\"\r\n        vertexColors={true}\r\n        blending={THREE.AdditiveBlending}\r\n      />\r\n    </lineSegments>\r\n  );\r\n});\r\n","import * as THREE from \"three\";\r\nimport { isBrowser } from \"react-device-detect\";\r\n\r\nconst dim = isBrowser ? 400 : 420;\r\n\r\nexport default class Particle {\r\n  constructor() {\r\n    const x = dim - Math.random() * 2 * dim;\r\n    const y = dim - Math.random() * 2 * dim;\r\n    const z = dim - Math.random() * 2 * dim;\r\n    this.position = new THREE.Vector3(x, y, z);\r\n    this.velocity = new THREE.Vector3(\r\n      (Math.random() - 0.5) / 3,\r\n      (Math.random() - 0.5) / 3,\r\n      (Math.random() - 0.5) / 3\r\n    );\r\n    this.velocity.clampScalar(0.01, 0.02);\r\n    this.acceleration = new THREE.Vector3(0, 0, 0);\r\n    this.jerk = new THREE.Vector3(0, 0, 0);\r\n    this.textBoundaries = false;\r\n    this.targetPos = new THREE.Vector3(x, y, z);\r\n    this.startPos = new THREE.Vector3(x, y, z);\r\n    this.neighbours = [];\r\n    this.r = 100;\r\n    this.speedLimit = 0.1;\r\n  }\r\n\r\n  update() {\r\n    this.jerk.set(\r\n      (Math.random() - 0.5) / 200,\r\n      (Math.random() - 0.5) / 200,\r\n      (Math.random() - 0.5) / 200\r\n    );\r\n    this.acceleration.add(this.jerk);\r\n    this.acceleration.clampScalar(-0.01, 0.01);\r\n    this.velocity.add(this.acceleration);\r\n    this.velocity.clampScalar(-this.speedLimit, this.speedLimit);\r\n    this.position.add(this.velocity);\r\n    this.boundaryCheck();\r\n  }\r\n\r\n  boundaryCheck() {\r\n    if (!this.textBoundaries) {\r\n      if (this.position.x < -dim || this.position.x > dim) {\r\n        this.velocity.x *= -1;\r\n        this.acceleration.x *= -1;\r\n      }\r\n      if (this.position.y < -dim || this.position.y > dim) {\r\n        this.velocity.y *= -1;\r\n        this.acceleration.y *= -1;\r\n      }\r\n      if (this.position.z < -dim || this.position.z > dim) {\r\n        this.velocity.z *= -1;\r\n        this.acceleration.z *= -1;\r\n      }\r\n      return;\r\n    }\r\n    if (\r\n      this.position.x < this.targetPos.x - 1 ||\r\n      this.position.x > this.targetPos.x + 1\r\n    ) {\r\n      this.velocity.x *= -1;\r\n      this.acceleration.x *= -1;\r\n    }\r\n    if (\r\n      this.position.y < this.targetPos.y - 1 ||\r\n      this.position.y > this.targetPos.y + 1\r\n    ) {\r\n      this.velocity.y *= -1;\r\n      this.acceleration.y *= -1;\r\n    }\r\n    if (\r\n      this.position.z < this.targetPos.z - 1 ||\r\n      this.position.z > this.targetPos.z + 1\r\n    ) {\r\n      this.velocity.z *= -1;\r\n      this.acceleration.z *= -1;\r\n    }\r\n  }\r\n\r\n  interpolate(progress) {\r\n    this.position.lerpVectors(this.startPos, this.targetPos, progress);\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/font.ef4d68f3.blob\";","import { useLoader } from \"@react-three/fiber\";\r\nimport { isBrowser } from \"react-device-detect\";\r\nimport { useMemo } from \"react\";\r\nimport * as THREE from \"three\";\r\nimport Particle from \"../Octree/Particle\";\r\nimport fontFile from \"./font.blob\";\r\n\r\nconst textSize = isBrowser ? 40 : 15;\r\nconst textDepth = isBrowser ? 10 : 1;\r\nconst numParticles = isBrowser\r\n  ? Math.cbrt(window.innerWidth) * 80\r\n  : Math.cbrt(window.innerWidth) * 80;\r\n\r\nfunction fillWithPoints(geometry, count) {\r\n  const dummyTarget = new THREE.Vector3();\r\n  const vA = new THREE.Vector3();\r\n  const vB = new THREE.Vector3();\r\n  const vC = new THREE.Vector3();\r\n  const ray = new THREE.Ray();\r\n  geometry.computeBoundingBox();\r\n  let bbox = geometry.boundingBox;\r\n\r\n  const points = [];\r\n\r\n  const dir = new THREE.Vector3(1, 1, 1).normalize();\r\n\r\n  const halfwayX = (bbox.max.x + bbox.min.x) / 2;\r\n  const halfwayY = (bbox.max.y + bbox.min.y) / 2;\r\n  const halfwayZ = (bbox.max.z + bbox.min.z) / 2;\r\n  let counter = 0;\r\n  while (counter < count) {\r\n    let v = new THREE.Vector3(\r\n      THREE.Math.randFloat(bbox.min.x, bbox.max.x),\r\n      THREE.Math.randFloat(bbox.min.y, bbox.max.y),\r\n      THREE.Math.randFloat(bbox.min.z, bbox.max.z)\r\n    );\r\n    if (isInside(v)) {\r\n      v.x -= halfwayX;\r\n      v.y -= halfwayY;\r\n      v.z -= halfwayZ - 350;\r\n      points.push(v);\r\n      counter++;\r\n    }\r\n  }\r\n\r\n  function isInside(v) {\r\n    ray.set(v, dir);\r\n    let counter = 0;\r\n\r\n    const pos = geometry.attributes.position;\r\n    const faces = pos.count / 3;\r\n\r\n    for (let i = 0; i < faces; i++) {\r\n      vA.fromBufferAttribute(pos, i * 3 + 0);\r\n      vB.fromBufferAttribute(pos, i * 3 + 1);\r\n      vC.fromBufferAttribute(pos, i * 3 + 2);\r\n      if (ray.intersectTriangle(vA, vB, vC, false, dummyTarget)) counter++;\r\n    }\r\n\r\n    return counter % 2 === 1;\r\n  }\r\n  return points;\r\n}\r\n\r\nfunction generateText(font) {\r\n  if (!font) return;\r\n  const geometry = new THREE.TextBufferGeometry(\"welcome\", {\r\n    font,\r\n    size: textSize,\r\n    height: textDepth,\r\n    curveSegments: 3,\r\n  });\r\n  const points = fillWithPoints(geometry, numParticles);\r\n  return points;\r\n}\r\nexport default function useTextPoints() {\r\n  const font = useLoader(THREE.FontLoader, fontFile);\r\n\r\n  const particles = useMemo(() => {\r\n    const textPoints = generateText(font);\r\n    return textPoints.map((point) => {\r\n      const newParticle = new Particle();\r\n      newParticle.targetPos.set(...Object.values(point));\r\n      return newParticle;\r\n    });\r\n  }, [font]);\r\n\r\n  return particles;\r\n}\r\n","import * as THREE from \"three\";\r\nexport default class Sphere {\r\n  constructor(x = 0, y = 0, z = 0, r = 150) {\r\n    this.position = new THREE.Vector3(x, y, z);\r\n    this.r = r;\r\n    this.rSquared = r ** 2;\r\n  }\r\n  set(particle) {\r\n    this.position = particle.position;\r\n    const { x, y, z } = this.position;\r\n    this.left = x - this.r;\r\n    this.right = x + this.r;\r\n    this.top = y + this.r;\r\n    this.bottom = y - this.r;\r\n    this.front = z + this.r;\r\n    this.back = z - this.r;\r\n  }\r\n  contains(particle) {\r\n    if (this.position === particle.position) return false;\r\n    const distSquared = this.position.distanceToSquared(particle.position);\r\n    return distSquared <= this.rSquared;\r\n  }\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { isBrowser } from \"react-device-detect\";\r\nimport { useFrame } from \"@react-three/fiber\";\r\nimport { Text } from \"@react-three/drei\";\r\n\r\nimport Connections from \"./Components/Connections\";\r\nimport useParticles from \"./Components/useParticles\";\r\nimport Sphere from \"./Octree/Sphere\";\r\nimport * as d3 from \"d3-ease\";\r\nconst range = new Sphere();\r\n\r\nconst textRange = isBrowser ? 10 : 3;\r\nexport default function Particles({ stage, setStage, mouseRange, progress }) {\r\n  const [showText, setShowText] = useState(true);\r\n  const particles = useParticles();\r\n\r\n  useEffect(() => {\r\n    if (stage === 0) return;\r\n    progress.current = 0;\r\n    particles.forEach((particle) => {\r\n      particle.startPos.set(...Object.values(particle.position));\r\n    });\r\n\r\n    if (stage === 2) {\r\n      particles.forEach((particle) => {\r\n        particle.targetPos.set(\r\n          600 - Math.random() * 1200,\r\n          400,\r\n          -Math.random() * 400\r\n        );\r\n      });\r\n      return;\r\n    }\r\n  }, [stage, particles, progress]);\r\n\r\n  useFrame(() => {\r\n    if (progress.current > 1) {\r\n      particles.forEach((particle) => particle.update());\r\n      return;\r\n    }\r\n    progress.current += 0.01;\r\n\r\n    //STAGE 1: FORM TEXT\r\n    if (stage === 1) {\r\n      mouseRange.current += 0.1;\r\n      const easing = d3.easeSinOut(progress.current);\r\n      particles.forEach((particle) => particle.interpolate(easing));\r\n      range.r = (1 - easing) * 150 + easing * textRange;\r\n      range.rSquared = range.r * range.r;\r\n      if (progress.current > 1) {\r\n        particles.forEach((particle) => {\r\n          particle.textBoundaries = true;\r\n          particle.speedLimit = 0.03;\r\n        });\r\n      }\r\n      return;\r\n    }\r\n    //STAGE 2: SCATTER\r\n    if (stage === 2) {\r\n      mouseRange.current -= 0.1;\r\n      const easing = d3.easeCubicIn(progress.current);\r\n      particles.forEach((particle) => particle.interpolate(easing));\r\n      range.r = (1 - easing) * textRange + easing * 50;\r\n      range.rSquared = range.r * range.r;\r\n      if (progress.current > 0.55) setShowText(false);\r\n      if (progress.current > 1) {\r\n        setStage(3);\r\n      }\r\n      return;\r\n    }\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Connections particles={particles} range={range} />\r\n      {showText && (\r\n        <Text\r\n          fontSize={20}\r\n          position={[0, 100, 0]}\r\n          color=\"#5A1525\"\r\n          anchorX=\"center\"\r\n          anchorY=\"middle\"\r\n        >\r\n          David Beale\r\n        </Text>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import \"./ScrollDown.css\";\r\n\r\nexport default function ScrollDown() {\r\n  return (\r\n    <div className=\"scroll-down\">\r\n      <div className=\"chevron\"></div>\r\n      <div className=\"chevron\"></div>\r\n      <div className=\"chevron\"></div>\r\n      <span className=\"text\">Scroll down</span>\r\n    </div>\r\n  );\r\n}\r\n","import * as React from \"react\";\r\n// eslint-disable-next-line\r\nimport { ReactThreeFiber, useFrame } from \"@react-three/fiber\";\r\nimport {\r\n  Vector3,\r\n  Spherical,\r\n  Color,\r\n  AdditiveBlending,\r\n  ShaderMaterial,\r\n} from \"three\";\r\n\r\nclass StarfieldMaterial extends ShaderMaterial {\r\n  constructor() {\r\n    super({\r\n      uniforms: { time: { value: 0.0 }, fade: { value: 1.0 } },\r\n      vertexShader: /* glsl */ `\r\n      uniform float time;\r\n      attribute float size;\r\n      varying vec3 vColor;\r\n      void main() {\r\n        vColor = color;\r\n        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);\r\n        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(mvPosition.x + 2.0 * time + 100.0));\r\n        gl_Position = projectionMatrix * mvPosition;\r\n      }`,\r\n      fragmentShader: /* glsl */ `\r\n      uniform sampler2D pointTexture;\r\n      uniform float fade;\r\n      varying vec3 vColor;\r\n      void main() {\r\n        float opacity = 1.0;\r\n        if (fade == 1.0) {\r\n          float d = distance(gl_PointCoord, vec2(0.5, 0.5));\r\n          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));\r\n        }\r\n        gl_FragColor = vec4(vColor, opacity);\r\n      }`,\r\n    });\r\n  }\r\n}\r\n\r\nconst genStar = (r) => {\r\n  return new Vector3().setFromSpherical(\r\n    new Spherical(\r\n      r,\r\n      Math.acos(1 - Math.random() * 2),\r\n      Math.PI / 2 + Math.random() * Math.PI\r\n    )\r\n  );\r\n};\r\n\r\nexport const Stars = React.forwardRef(\r\n  (\r\n    {\r\n      radius = 100,\r\n      depth = 50,\r\n      count = 5000,\r\n      saturation = 0,\r\n      factor = 4,\r\n      fade = false,\r\n    },\r\n    ref\r\n  ) => {\r\n    const material = React.useRef();\r\n    const [position, color, size] = React.useMemo(() => {\r\n      const positions = [];\r\n      const colors = [];\r\n      const sizes = Array.from(\r\n        { length: count },\r\n        () => (0.5 + 0.5 * Math.random()) * factor\r\n      );\r\n      const color = new Color();\r\n      let r = radius + depth;\r\n      const increment = depth / count;\r\n      for (let i = 0; i < count; i++) {\r\n        r -= increment * Math.random();\r\n        positions.push(...genStar(r).toArray());\r\n        color.setHSL(i / count, saturation, 0.9);\r\n        colors.push(color.r, color.g, color.b);\r\n      }\r\n      return [\r\n        new Float32Array(positions),\r\n        new Float32Array(colors),\r\n        new Float32Array(sizes),\r\n      ];\r\n    }, [count, depth, factor, radius, saturation]);\r\n    useFrame(\r\n      (state) =>\r\n        material.current &&\r\n        (material.current.uniforms.time.value = state.clock.getElapsedTime())\r\n    );\r\n\r\n    const [starfieldMaterial] = React.useState(() => new StarfieldMaterial());\r\n\r\n    return (\r\n      <points ref={ref} renderOrder={1}>\r\n        <bufferGeometry attach=\"geometry\">\r\n          <bufferAttribute\r\n            attachObject={[\"attributes\", \"position\"]}\r\n            args={[position, 3]}\r\n          />\r\n          <bufferAttribute\r\n            attachObject={[\"attributes\", \"color\"]}\r\n            args={[color, 3]}\r\n          />\r\n          <bufferAttribute\r\n            attachObject={[\"attributes\", \"size\"]}\r\n            args={[size, 1]}\r\n          />\r\n        </bufferGeometry>\r\n        <primitive\r\n          dispose={undefined}\r\n          ref={material}\r\n          object={starfieldMaterial}\r\n          attach=\"material\"\r\n          blending={AdditiveBlending}\r\n          uniforms-fade-value={fade}\r\n          vertexColors\r\n        />\r\n      </points>\r\n    );\r\n  }\r\n);\r\n","import { Stars } from \"./Stars\";\r\n\r\nexport default function Sky({ lowQuality }) {\r\n  return (\r\n    <Stars\r\n      renderOrder={1}\r\n      count={lowQuality ? 1000 : 3000}\r\n      radius={4500}\r\n      factor={lowQuality ? 100 : 200}\r\n      fade={lowQuality ? false : true}\r\n      saturation={1}\r\n    />\r\n  );\r\n}\r\n","import { useEffect, useMemo, useRef } from \"react\";\r\n\r\nexport default function Ring({ dimensions }) {\r\n  const ref = useRef();\r\n\r\n  const [positions, normals] = useMemo(() => {\r\n    const { w2, h2, depth } = dimensions;\r\n    const thickness = 1;\r\n    const vertices = [\r\n      { pos: [-w2 - thickness, h2 + thickness, depth], norm: [0, 0, 1] },\r\n      { pos: [w2 + thickness, h2 + thickness, depth], norm: [0, 0, 1] },\r\n      { pos: [-w2, h2, depth], norm: [0, 0, 1] },\r\n      { pos: [w2, h2, depth], norm: [0, 0, 1] },\r\n\r\n      { pos: [-w2, -h2, depth], norm: [0, 0, 1] },\r\n      { pos: [w2, -h2, depth], norm: [0, 0, 1] },\r\n      { pos: [-w2 - thickness, -h2 - thickness, depth], norm: [0, 0, 1] },\r\n      { pos: [w2 + thickness, -h2 - thickness, depth], norm: [0, 0, 1] },\r\n    ];\r\n    const numVertices = vertices.length;\r\n    const positions = new Float32Array(numVertices * 3);\r\n    const normals = new Float32Array(numVertices * 3);\r\n    let posNdx = 0;\r\n    let nrmNdx = 0;\r\n    for (const vertex of vertices) {\r\n      positions.set(vertex.pos, posNdx);\r\n      normals.set(vertex.norm, nrmNdx);\r\n      posNdx += 3;\r\n      nrmNdx += 3;\r\n    }\r\n    return [positions, normals];\r\n  }, [dimensions]);\r\n\r\n  useEffect(() => {\r\n    const index = [\r\n      1, 3, 2, 7, 5, 6, 6, 5, 4, 6, 2, 0, 2, 6, 4, 3, 1, 2, 0, 2, 1, 1, 3, 7, 3,\r\n      5, 7,\r\n    ];\r\n    ref.current.setIndex(index);\r\n  }, []);\r\n\r\n  return (\r\n    <mesh scale={[1.01, 1.01, 1.01]}>\r\n      <bufferGeometry ref={ref}>\r\n        <bufferAttribute\r\n          attachObject={[\"attributes\", \"position\"]}\r\n          args={[positions, 3]}\r\n        />\r\n        <bufferAttribute\r\n          attachObject={[\"attributes\", \"normal\"]}\r\n          args={[normals, 3]}\r\n        />\r\n      </bufferGeometry>\r\n\r\n      <meshBasicMaterial color={\"white\"} transparent={true} />\r\n    </mesh>\r\n  );\r\n}\r\n","import { useEffect, useMemo, useRef } from \"react\";\r\n\r\nexport default function MagicBox({ dimensions, debug }) {\r\n  const ref = useRef();\r\n\r\n  const [positions, normals] = useMemo(() => {\r\n    const { w1, w2, h2, depth, backXOffset, h1 } = dimensions;\r\n    const vertices = [\r\n      // right\r\n      { pos: [w2, -h2, depth], norm: [1, 0, 0] },\r\n      { pos: [w1 + backXOffset, -h1, -depth], norm: [1, 0, 0] },\r\n      { pos: [w2, h2, depth], norm: [1, 0, 0] },\r\n      { pos: [w1 + backXOffset, h1, -depth], norm: [1, 0, 0] },\r\n      // back\r\n      { pos: [w1 + backXOffset, -h1, -depth], norm: [0, 0, -1] },\r\n      { pos: [-w1 + backXOffset, -h1, -depth], norm: [0, 0, -1] },\r\n      { pos: [w1 + backXOffset, h1, -depth], norm: [0, 0, -1] },\r\n      { pos: [-w1 + backXOffset, h1, -depth], norm: [0, 0, -1] },\r\n      // left\r\n      { pos: [-w1 + backXOffset, -h1, -depth], norm: [-1, 0, 0] },\r\n      { pos: [-w2, -h2, depth], norm: [-1, 0, 0] },\r\n      { pos: [-w1 + backXOffset, h1, -depth], norm: [-1, 0, 0] },\r\n      { pos: [-w2, h2, depth], norm: [-1, 0, 0] },\r\n      // top\r\n      { pos: [w1 + backXOffset, h1, -depth], norm: [0, 1, 0] },\r\n      { pos: [-w1 + backXOffset, h1, -depth], norm: [0, 1, 0] },\r\n      { pos: [w2, h2, depth], norm: [0, 1, 0] },\r\n      { pos: [-w2, h2, depth], norm: [0, 1, 0] },\r\n      // bottom\r\n      { pos: [w2, -h2, depth], norm: [0, -1, 0] },\r\n      { pos: [-w2, -h2, depth], norm: [0, -1, 0] },\r\n      { pos: [w1 + backXOffset, -h1, -depth], norm: [0, -1, 0] },\r\n      { pos: [-w1 + backXOffset, -h1, -depth], norm: [0, -1, 0] },\r\n    ];\r\n    const numVertices = vertices.length;\r\n    const positions = new Float32Array(numVertices * 3);\r\n    const normals = new Float32Array(numVertices * 3);\r\n    let posNdx = 0;\r\n    let nrmNdx = 0;\r\n    for (const vertex of vertices) {\r\n      positions.set(vertex.pos, posNdx);\r\n      normals.set(vertex.norm, nrmNdx);\r\n      posNdx += 3;\r\n      nrmNdx += 3;\r\n    }\r\n    return [positions, normals];\r\n  }, [dimensions]);\r\n\r\n  useEffect(() => {\r\n    const index = [\r\n      0, 1, 2, 2, 1, 3, 4, 5, 6, 6, 5, 7, 8, 9, 10, 10, 9, 11, 12, 13, 14, 14,\r\n      13, 15, 16, 17, 18, 18, 17, 19,\r\n    ];\r\n    ref.current.setIndex(index);\r\n  }, []);\r\n  return (\r\n    <mesh position={[0, 0, 0]} renderOrder={3} scale={[1.01, 1.01, 1.01]}>\r\n      <bufferGeometry ref={ref}>\r\n        <bufferAttribute\r\n          attachObject={[\"attributes\", \"position\"]}\r\n          args={[positions, 3]}\r\n        />\r\n        <bufferAttribute\r\n          attachObject={[\"attributes\", \"normal\"]}\r\n          args={[normals, 3]}\r\n        />\r\n      </bufferGeometry>\r\n      <meshBasicMaterial\r\n        colorWrite={debug ? true : false}\r\n        transparent={true}\r\n        color={debug ? \"pink\" : \"\"}\r\n      />\r\n    </mesh>\r\n  );\r\n}\r\n","export default function Image({ image, dimensions }) {\r\n  return (\r\n    <mesh\r\n      renderOrder={5}\r\n      position={[dimensions.backXOffset, 0, -dimensions.depth]}\r\n    >\r\n      <planeBufferGeometry args={[dimensions.w1 * 2, dimensions.h1 * 2]} />\r\n      <meshBasicMaterial transparent={true} map={image.image} />\r\n    </mesh>\r\n  );\r\n}\r\n","export default function Link({\r\n  dimensions,\r\n  setHovered,\r\n  image,\r\n  swipingInProgress,\r\n}) {\r\n  const onClick = () => {\r\n    if (swipingInProgress.current) return;\r\n    window.open(image.url, \"_blank\");\r\n  };\r\n  return (\r\n    <mesh\r\n      position={[0, 0, dimensions.depth]}\r\n      onPointerOver={() => setHovered(true)}\r\n      onPointerOut={() => setHovered(false)}\r\n      onPointerUp={onClick}\r\n      renderOrder={6}\r\n    >\r\n      <planeBufferGeometry\r\n        args={[dimensions.w2 * 2.02, dimensions.h2 * 2.02]}\r\n      />\r\n      <meshBasicMaterial transparent={true} opacity={0} />\r\n    </mesh>\r\n  );\r\n}\r\n","import { Text } from \"@react-three/drei\";\r\n\r\nexport default function TextComponent({ dimensions, image }) {\r\n  return (\r\n    <Text\r\n      position={[0, -dimensions.h2 + 20, dimensions.depth + 10]}\r\n      fontSize={25}\r\n      color=\"white\"\r\n      outlineColor=\"#010122\"\r\n      outlineWidth={1}\r\n      outlineBlur={5}\r\n      anchorX=\"center\"\r\n      anchorY=\"middle\"\r\n    >\r\n      {image.text}\r\n    </Text>\r\n  );\r\n}\r\n","export default function GithubLogo({ dimensions, github, swipingInProgress }) {\r\n  const onClick = (e) => {\r\n    if (swipingInProgress.current) return;\r\n    e.stopPropagation();\r\n    window.open(github.url, \"_blank\");\r\n  };\r\n\r\n  return (\r\n    <mesh\r\n      onPointerUp={onClick}\r\n      position={[dimensions.w2 - 18, dimensions.h2 - 18, dimensions.depth + 1]}\r\n    >\r\n      <circleBufferGeometry args={[16, 16]} />\r\n      <meshBasicMaterial map={github.logo} />\r\n    </mesh>\r\n  );\r\n}\r\n","import Ring from \"./Ring\";\r\nimport MagicBox from \"./MagicBox\";\r\nimport Image from \"./Image\";\r\nimport Link from \"./Link\";\r\nimport Text from \"./Text\";\r\nimport GithubLogo from \"./GithubLogo\";\r\n\r\nexport default function Portal({\r\n  dimensions,\r\n  image,\r\n  setHovered,\r\n  github,\r\n  debug,\r\n  swipingInProgress,\r\n}) {\r\n  return (\r\n    <group\r\n      position={[dimensions.xOffset, dimensions.yOffset, dimensions.zOffset]}\r\n    >\r\n      <Image image={image} dimensions={dimensions} />\r\n      <MagicBox dimensions={dimensions} debug={debug} />\r\n      <Ring dimensions={dimensions} />\r\n      <GithubLogo\r\n        dimensions={dimensions}\r\n        github={github}\r\n        swipingInProgress={swipingInProgress}\r\n      />\r\n      <Link\r\n        dimensions={dimensions}\r\n        setHovered={setHovered}\r\n        image={image}\r\n        swipingInProgress={swipingInProgress}\r\n      />\r\n      <Text dimensions={dimensions} image={image} />\r\n    </group>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/car2d.03bcc385.webp\";","export default __webpack_public_path__ + \"static/media/Grootify.f48947e5.webp\";","export default __webpack_public_path__ + \"static/media/newtonsCradle.4a80c93e.webp\";","export default __webpack_public_path__ + \"static/media/newsFeeds.5b97fc01.webp\";","export default __webpack_public_path__ + \"static/media/githubLogo.b6767fb2.webp\";","export default __webpack_public_path__ + \"static/media/morphing.014e9ba3.webp\";","export default __webpack_public_path__ + \"static/media/weather.4495d057.webp\";","export default __webpack_public_path__ + \"static/media/tesseract.0422dece.webp\";","export default __webpack_public_path__ + \"static/media/sorting.c1ddb6a6.webp\";","export default __webpack_public_path__ + \"static/media/attractors.82ba7ef9.webp\";","export default __webpack_public_path__ + \"static/media/fractal.d8a69fda.webp\";","export default __webpack_public_path__ + \"static/media/Diffusion.6d449644.webp\";","import { useEffect, useMemo, useRef } from \"react\";\r\nimport { isBrowser } from \"react-device-detect\";\r\nimport { TextureLoader } from \"three\";\r\nimport car2d from \"./car2d.webp\";\r\nimport grootify from \"./Grootify.webp\";\r\nimport newtonsCradle from \"./newtonsCradle.webp\";\r\nimport newsFeeds from \"./newsFeeds.webp\";\r\nimport githubLogo from \"./githubLogo.webp\";\r\nimport morphing from \"./morphing.webp\";\r\nimport weather from \"./weather.webp\";\r\nimport tesseract from \"./tesseract.webp\";\r\nimport sorting from \"./sorting.webp\";\r\nimport attractors from \"./attractors.webp\";\r\nimport fractal from \"./fractal.webp\";\r\nimport Diffusion from \"./Diffusion.webp\";\r\n\r\nconst loader = new TextureLoader();\r\nconst textureFiles = {\r\n  githubLogo,\r\n  grootify,\r\n  newtonsCradle,\r\n  car2d,\r\n  newsFeeds,\r\n  morphing,\r\n  weather,\r\n  attractors,\r\n  sorting,\r\n  fractal,\r\n  tesseract,\r\n  Diffusion,\r\n};\r\n\r\nexport const useContentData = (ready, setReady) => {\r\n  const texturesRef = useRef({});\r\n\r\n  useEffect(() => {\r\n    let progress = 0;\r\n    const keys = Object.keys(textureFiles);\r\n\r\n    keys.forEach((key) => {\r\n      const onFinish = (texture) => {\r\n        progress++;\r\n        texturesRef.current[key] = texture;\r\n        if (progress === keys.length) setReady(true);\r\n      };\r\n      loader.load(textureFiles[key], onFinish);\r\n    });\r\n  }, [setReady]);\r\n\r\n  return useMemo(() => {\r\n    if (!ready) return [];\r\n    return [\r\n      {\r\n        dimensions: {\r\n          xOffset: isBrowser ? -200 : 0,\r\n          yOffset: isBrowser ? 0 : 0,\r\n          zOffset: isBrowser ? -100 : -100,\r\n          backXOffset: isBrowser ? -40 : 0,\r\n          depth: isBrowser ? 75 : 75,\r\n          w1: isBrowser ? 190 : 180,\r\n          h1: isBrowser ? 225 : 200,\r\n          w2: isBrowser ? 105 : 125,\r\n          h2: isBrowser ? 135 : 140,\r\n        },\r\n        image: {\r\n          image: texturesRef.current.grootify,\r\n          url: \"https://david-beale.github.io/Grootify/\",\r\n          text: \"Grootify\",\r\n        },\r\n        github: {\r\n          logo: texturesRef.current.githubLogo,\r\n          url: \"https://github.com/David-Beale/Grootify\",\r\n        },\r\n      },\r\n      {\r\n        dimensions: {\r\n          xOffset: isBrowser ? 260 : 0,\r\n          yOffset: isBrowser ? -200 : -400,\r\n          zOffset: isBrowser ? -400 : -100,\r\n          backXOffset: isBrowser ? 50 : 0,\r\n          depth: isBrowser ? 100 : 75,\r\n          w1: isBrowser ? 295 : 210,\r\n          h1: isBrowser ? 280 : 200,\r\n          w2: isBrowser ? 200 : 125,\r\n          h2: isBrowser ? 180 : 140,\r\n        },\r\n        image: {\r\n          image: texturesRef.current.car2d,\r\n          url: \"https://david-beale.github.io/self-driving-car/\",\r\n          text: \"Self Driving Car\",\r\n        },\r\n        github: {\r\n          logo: texturesRef.current.githubLogo,\r\n          url: \"https://github.com/David-Beale/self-driving-car\",\r\n        },\r\n      },\r\n      {\r\n        dimensions: {\r\n          xOffset: isBrowser ? -260 : 0,\r\n          yOffset: isBrowser ? -350 : -800,\r\n          zOffset: isBrowser ? -250 : -100,\r\n          backXOffset: isBrowser ? -45 : 0,\r\n          depth: isBrowser ? 75 : 75,\r\n          w1: isBrowser ? 260 : 330,\r\n          h1: isBrowser ? 200 : 200,\r\n          w2: isBrowser ? 126 : 125,\r\n          h2: isBrowser ? 110 : 140,\r\n        },\r\n        image: {\r\n          image: texturesRef.current.newsFeeds,\r\n          url: \"https://david-beale.github.io/News-feeds/\",\r\n          text: \"News Feeds\",\r\n        },\r\n        github: {\r\n          logo: texturesRef.current.githubLogo,\r\n          url: \"https://github.com/David-Beale/News-feeds\",\r\n        },\r\n      },\r\n      {\r\n        dimensions: {\r\n          xOffset: isBrowser ? 260 : 0,\r\n          yOffset: isBrowser ? -650 : -1200,\r\n          zOffset: isBrowser ? -250 : -100,\r\n          backXOffset: isBrowser ? 40 : 0,\r\n          depth: isBrowser ? 75 : 75,\r\n          w1: isBrowser ? 215 : 210,\r\n          h1: isBrowser ? 230 : 200,\r\n          w2: isBrowser ? 140 : 125,\r\n          h2: isBrowser ? 145 : 140,\r\n        },\r\n        image: {\r\n          image: texturesRef.current.morphing,\r\n          url: \"https://david-beale.github.io/morphing/\",\r\n          text: \"Particle morph\",\r\n        },\r\n        github: {\r\n          logo: texturesRef.current.githubLogo,\r\n          url: \"https://github.com/David-Beale/morphing\",\r\n        },\r\n      },\r\n      {\r\n        dimensions: {\r\n          xOffset: isBrowser ? -230 : 0,\r\n          yOffset: isBrowser ? -700 : -1600,\r\n          zOffset: isBrowser ? -125 : -100,\r\n          backXOffset: isBrowser ? -40 : 0,\r\n          depth: isBrowser ? 75 : 75,\r\n          w1: isBrowser ? 225 : 210,\r\n          h1: isBrowser ? 200 : 200,\r\n          w2: isBrowser ? 140 : 125,\r\n          h2: isBrowser ? 115 : 140,\r\n        },\r\n        image: {\r\n          image: texturesRef.current.weather,\r\n          url: \"https://david-beale.github.io/weather/\",\r\n          text: \"Weather at a glance\",\r\n        },\r\n        github: {\r\n          logo: texturesRef.current.githubLogo,\r\n          url: \"https://github.com/David-Beale/weather\",\r\n        },\r\n      },\r\n      {\r\n        dimensions: {\r\n          xOffset: isBrowser ? 190 : 0,\r\n          yOffset: isBrowser ? -1045 : -2000,\r\n          zOffset: isBrowser ? -105 : -100,\r\n          backXOffset: isBrowser ? 50 : 0,\r\n          depth: isBrowser ? 100 : 75,\r\n          w1: isBrowser ? 230 : 210,\r\n          h1: isBrowser ? 230 : 200,\r\n          w2: isBrowser ? 110 : 125,\r\n          h2: isBrowser ? 110 : 140,\r\n        },\r\n        image: {\r\n          image: texturesRef.current.attractors,\r\n          url: \"https://david-beale.github.io/Attractors/\",\r\n          text: \"Attractors\",\r\n        },\r\n        github: {\r\n          logo: texturesRef.current.githubLogo,\r\n          url: \"https://github.com/David-Beale/Attractors\",\r\n        },\r\n      },\r\n      {\r\n        dimensions: {\r\n          xOffset: isBrowser ? -260 : 0,\r\n          yOffset: isBrowser ? -1120 : -2400,\r\n          zOffset: isBrowser ? -175 : -100,\r\n          backXOffset: isBrowser ? -55 : 0,\r\n          depth: isBrowser ? 100 : 75,\r\n          w1: isBrowser ? 245 : 250,\r\n          h1: isBrowser ? 230 : 200,\r\n          w2: isBrowser ? 130 : 125,\r\n          h2: isBrowser ? 110 : 140,\r\n        },\r\n        image: {\r\n          image: texturesRef.current.sorting,\r\n          url: \"https://david-beale.github.io/Sorting/\",\r\n          text: \"Sorting Visualised\",\r\n        },\r\n        github: {\r\n          logo: texturesRef.current.githubLogo,\r\n          url: \"https://github.com/David-Beale/Sorting\",\r\n        },\r\n      },\r\n      {\r\n        dimensions: {\r\n          xOffset: isBrowser ? 250 : 0,\r\n          yOffset: isBrowser ? -1470 : -2800,\r\n          zOffset: isBrowser ? -210 : -100,\r\n          backXOffset: isBrowser ? 55 : 0,\r\n          depth: isBrowser ? 75 : 75,\r\n          w1: isBrowser ? 210 : 210,\r\n          h1: isBrowser ? 200 : 200,\r\n          w2: isBrowser ? 126 : 125,\r\n          h2: isBrowser ? 120 : 140,\r\n        },\r\n        image: {\r\n          image: texturesRef.current.newtonsCradle,\r\n          url: \"https://david-beale.github.io/Newtons-Cradle/\",\r\n          text: \"Newton's Cradle\",\r\n        },\r\n        github: {\r\n          logo: texturesRef.current.githubLogo,\r\n          url: \"https://github.com/David-Beale/Newtons-Cradle\",\r\n        },\r\n      },\r\n      {\r\n        dimensions: {\r\n          xOffset: isBrowser ? -260 : 0,\r\n          yOffset: isBrowser ? -1530 : -3200,\r\n          zOffset: isBrowser ? -310 : -100,\r\n          backXOffset: isBrowser ? -55 : 0,\r\n          depth: isBrowser ? 100 : 75,\r\n          w1: isBrowser ? 245 : 230,\r\n          h1: isBrowser ? 210 : 200,\r\n          w2: isBrowser ? 140 : 125,\r\n          h2: isBrowser ? 105 : 140,\r\n        },\r\n        image: {\r\n          image: texturesRef.current.fractal,\r\n          url: \"https://david-beale.github.io/fractals/\",\r\n          text: \"Fractals\",\r\n        },\r\n        github: {\r\n          logo: texturesRef.current.githubLogo,\r\n          url: \"https://github.com/David-Beale/fractals\",\r\n        },\r\n      },\r\n      {\r\n        dimensions: {\r\n          xOffset: isBrowser ? -280 : 0,\r\n          yOffset: isBrowser ? -1940 : -3600,\r\n          zOffset: isBrowser ? -270 : -100,\r\n          backXOffset: isBrowser ? -55 : 0,\r\n          depth: isBrowser ? 100 : 75,\r\n          w1: isBrowser ? 225 : 230,\r\n          h1: isBrowser ? 210 : 200,\r\n          w2: isBrowser ? 130 : 125,\r\n          h2: isBrowser ? 130 : 140,\r\n        },\r\n        image: {\r\n          image: texturesRef.current.tesseract,\r\n          url: \"https://david-beale.github.io/Tesseract/\",\r\n          text: \"Tesseract\",\r\n        },\r\n        github: {\r\n          logo: texturesRef.current.githubLogo,\r\n          url: \"https://github.com/David-Beale/Tesseract\",\r\n        },\r\n      },\r\n      {\r\n        dimensions: {\r\n          xOffset: isBrowser ? 230 : 0,\r\n          yOffset: isBrowser ? -1900 : -4000,\r\n          zOffset: isBrowser ? -100 : -100,\r\n          backXOffset: isBrowser ? 60 : 0,\r\n          depth: isBrowser ? 100 : 75,\r\n          w1: isBrowser ? 230 : 210,\r\n          h1: isBrowser ? 230 : 200,\r\n          w2: isBrowser ? 120 : 125,\r\n          h2: isBrowser ? 120 : 140,\r\n        },\r\n        image: {\r\n          image: texturesRef.current.Diffusion,\r\n          url: \"https://david-beale.github.io/Diffusion/\",\r\n          text: \"Diffusion\",\r\n        },\r\n        github: {\r\n          logo: texturesRef.current.githubLogo,\r\n          url: \"https://github.com/David-Beale/Diffusion\",\r\n        },\r\n      },\r\n    ];\r\n  }, [ready]);\r\n};\r\n","import Portal from \"./Portal/Portal\";\r\nimport { useFrame } from \"@react-three/fiber\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { useContentData } from \"./Portal/data/useContentData\";\r\n\r\nexport default function Content({\r\n  scroll,\r\n  stage,\r\n  debug,\r\n  skip,\r\n  swipingInProgress,\r\n  setReady,\r\n  ready,\r\n}) {\r\n  const ref = useRef();\r\n  const [hovered, setHovered] = useState(false);\r\n  const contentData = useContentData(ready, setReady);\r\n\r\n  useFrame(() => {\r\n    if (!ref.current) return;\r\n    const diff = scroll.current - ref.current.position.y;\r\n    ref.current.position.y += diff * 0.05;\r\n  });\r\n\r\n  useEffect(() => {\r\n    document.body.style.cursor = hovered ? \"pointer\" : \"auto\";\r\n  }, [hovered]);\r\n\r\n  return (\r\n    <>\r\n      {(skip || stage > 2) && (\r\n        <group ref={ref} position={[0, -500, 0]}>\r\n          {contentData.map((data, index) => (\r\n            <Portal\r\n              key={index}\r\n              dimensions={data.dimensions}\r\n              image={data.image}\r\n              github={data.github}\r\n              setHovered={setHovered}\r\n              debug={debug}\r\n              swipingInProgress={swipingInProgress}\r\n            />\r\n          ))}\r\n        </group>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import {\r\n  AdditiveBlending,\r\n  Color,\r\n  LinearFilter,\r\n  MeshBasicMaterial,\r\n  RGBAFormat,\r\n  ShaderMaterial,\r\n  UniformsUtils,\r\n  Vector2,\r\n  Vector3,\r\n  WebGLRenderTarget,\r\n} from \"three\";\r\nimport {\r\n  Pass,\r\n  FullScreenQuad,\r\n} from \"three/examples/jsm/postprocessing/Pass.js\";\r\nimport { CopyShader } from \"three/examples/jsm/shaders/CopyShader.js\";\r\nimport { LuminosityHighPassShader } from \"three/examples/jsm/shaders/LuminosityHighPassShader.js\";\r\n\r\n/**\r\n * UnrealBloomPass is inspired by the bloom pass of Unreal Engine. It creates a\r\n * mip map chain of bloom textures and blurs them with different radii. Because\r\n * of the weighted combination of mips, and because larger blurs are done on\r\n * higher mips, this effect provides good quality and performance.\r\n *\r\n * Reference:\r\n * - https://docs.unrealengine.com/latest/INT/Engine/Rendering/PostProcessEffects/Bloom/\r\n */\r\nclass UnrealBloomPass extends Pass {\r\n  constructor(resolution, strength, radius, threshold) {\r\n    super();\r\n\r\n    this.strength = strength !== undefined ? strength : 1;\r\n    this.radius = radius;\r\n    this.threshold = threshold;\r\n    this.resolution =\r\n      resolution !== undefined\r\n        ? new Vector2(resolution.x, resolution.y)\r\n        : new Vector2(256, 256);\r\n\r\n    // create color only once here, reuse it later inside the render function\r\n    this.clearColor = new Color(0, 0, 0);\r\n\r\n    // render targets\r\n    const pars = {\r\n      minFilter: LinearFilter,\r\n      magFilter: LinearFilter,\r\n      format: RGBAFormat,\r\n    };\r\n    this.renderTargetsHorizontal = [];\r\n    this.renderTargetsVertical = [];\r\n    this.nMips = 5;\r\n    let resx = Math.round(this.resolution.x / 2);\r\n    let resy = Math.round(this.resolution.y / 2);\r\n\r\n    this.renderTargetBright = new WebGLRenderTarget(resx, resy, pars);\r\n    this.renderTargetBright.texture.name = \"UnrealBloomPass.bright\";\r\n    this.renderTargetBright.texture.generateMipmaps = false;\r\n\r\n    for (let i = 0; i < this.nMips; i++) {\r\n      const renderTargetHorizonal = new WebGLRenderTarget(resx, resy, pars);\r\n\r\n      renderTargetHorizonal.texture.name = \"UnrealBloomPass.h\" + i;\r\n      renderTargetHorizonal.texture.generateMipmaps = false;\r\n\r\n      this.renderTargetsHorizontal.push(renderTargetHorizonal);\r\n\r\n      const renderTargetVertical = new WebGLRenderTarget(resx, resy, pars);\r\n\r\n      renderTargetVertical.texture.name = \"UnrealBloomPass.v\" + i;\r\n      renderTargetVertical.texture.generateMipmaps = false;\r\n\r\n      this.renderTargetsVertical.push(renderTargetVertical);\r\n\r\n      resx = Math.round(resx / 2);\r\n\r\n      resy = Math.round(resy / 2);\r\n    }\r\n\r\n    // luminosity high pass material\r\n\r\n    if (LuminosityHighPassShader === undefined)\r\n      console.error(\"THREE.UnrealBloomPass relies on LuminosityHighPassShader\");\r\n\r\n    const highPassShader = LuminosityHighPassShader;\r\n    this.highPassUniforms = UniformsUtils.clone(highPassShader.uniforms);\r\n\r\n    this.highPassUniforms[\"luminosityThreshold\"].value = threshold;\r\n    this.highPassUniforms[\"smoothWidth\"].value = 0.01;\r\n\r\n    this.materialHighPassFilter = new ShaderMaterial({\r\n      uniforms: this.highPassUniforms,\r\n      vertexShader: highPassShader.vertexShader,\r\n      fragmentShader: highPassShader.fragmentShader,\r\n      defines: {},\r\n    });\r\n\r\n    // Gaussian Blur Materials\r\n    this.separableBlurMaterials = [];\r\n    const kernelSizeArray = [3, 5, 7, 9, 11];\r\n    resx = Math.round(this.resolution.x / 2);\r\n    resy = Math.round(this.resolution.y / 2);\r\n\r\n    for (let i = 0; i < this.nMips; i++) {\r\n      this.separableBlurMaterials.push(\r\n        this.getSeperableBlurMaterial(kernelSizeArray[i])\r\n      );\r\n\r\n      this.separableBlurMaterials[i].uniforms[\"texSize\"].value = new Vector2(\r\n        resx,\r\n        resy\r\n      );\r\n\r\n      resx = Math.round(resx / 2);\r\n\r\n      resy = Math.round(resy / 2);\r\n    }\r\n\r\n    // Composite material\r\n    this.compositeMaterial = this.getCompositeMaterial(this.nMips);\r\n    this.compositeMaterial.uniforms[\"blurTexture1\"].value =\r\n      this.renderTargetsVertical[0].texture;\r\n    this.compositeMaterial.uniforms[\"blurTexture2\"].value =\r\n      this.renderTargetsVertical[1].texture;\r\n    this.compositeMaterial.uniforms[\"blurTexture3\"].value =\r\n      this.renderTargetsVertical[2].texture;\r\n    this.compositeMaterial.uniforms[\"blurTexture4\"].value =\r\n      this.renderTargetsVertical[3].texture;\r\n    this.compositeMaterial.uniforms[\"blurTexture5\"].value =\r\n      this.renderTargetsVertical[4].texture;\r\n    this.compositeMaterial.uniforms[\"bloomStrength\"].value = strength;\r\n    this.compositeMaterial.uniforms[\"bloomRadius\"].value = 0.1;\r\n    this.compositeMaterial.needsUpdate = true;\r\n\r\n    const bloomFactors = [1.0, 0.8, 0.6, 0.4, 0.2];\r\n    this.compositeMaterial.uniforms[\"bloomFactors\"].value = bloomFactors;\r\n    this.bloomTintColors = [\r\n      new Vector3(1, 1, 1),\r\n      new Vector3(1, 1, 1),\r\n      new Vector3(1, 1, 1),\r\n      new Vector3(1, 1, 1),\r\n      new Vector3(1, 1, 1),\r\n    ];\r\n    this.compositeMaterial.uniforms[\"bloomTintColors\"].value =\r\n      this.bloomTintColors;\r\n\r\n    // copy material\r\n    if (CopyShader === undefined) {\r\n      console.error(\"THREE.UnrealBloomPass relies on CopyShader\");\r\n    }\r\n\r\n    const copyShader = CopyShader;\r\n\r\n    this.copyUniforms = UniformsUtils.clone(copyShader.uniforms);\r\n    this.copyUniforms[\"opacity\"].value = 1.0;\r\n\r\n    this.materialCopy = new ShaderMaterial({\r\n      uniforms: this.copyUniforms,\r\n      vertexShader: copyShader.vertexShader,\r\n      fragmentShader: copyShader.fragmentShader,\r\n      blending: AdditiveBlending,\r\n      depthTest: false,\r\n      depthWrite: false,\r\n      transparent: true,\r\n    });\r\n\r\n    this.enabled = true;\r\n    this.needsSwap = false;\r\n\r\n    this._oldClearColor = new Color();\r\n    this.oldClearAlpha = 1;\r\n\r\n    this.basic = new MeshBasicMaterial();\r\n\r\n    this.fsQuad = new FullScreenQuad(null);\r\n  }\r\n\r\n  dispose() {\r\n    for (let i = 0; i < this.renderTargetsHorizontal.length; i++) {\r\n      this.renderTargetsHorizontal[i].dispose();\r\n    }\r\n\r\n    for (let i = 0; i < this.renderTargetsVertical.length; i++) {\r\n      this.renderTargetsVertical[i].dispose();\r\n    }\r\n\r\n    this.renderTargetBright.dispose();\r\n  }\r\n\r\n  setSize(width, height) {\r\n    let resx = Math.round(width / 2);\r\n    let resy = Math.round(height / 2);\r\n\r\n    this.renderTargetBright.setSize(resx, resy);\r\n\r\n    for (let i = 0; i < this.nMips; i++) {\r\n      this.renderTargetsHorizontal[i].setSize(resx, resy);\r\n      this.renderTargetsVertical[i].setSize(resx, resy);\r\n\r\n      this.separableBlurMaterials[i].uniforms[\"texSize\"].value = new Vector2(\r\n        resx,\r\n        resy\r\n      );\r\n\r\n      resx = Math.round(resx / 2);\r\n      resy = Math.round(resy / 2);\r\n    }\r\n  }\r\n\r\n  render(renderer, writeBuffer, readBuffer, deltaTime, maskActive) {\r\n    renderer.getClearColor(this._oldClearColor);\r\n    this.oldClearAlpha = renderer.getClearAlpha();\r\n    const oldAutoClear = renderer.autoClear;\r\n    renderer.autoClear = false;\r\n\r\n    renderer.setClearColor(this.clearColor, 0);\r\n\r\n    if (maskActive) renderer.state.buffers.stencil.setTest(false);\r\n\r\n    // Render input to screen\r\n\r\n    if (this.renderToScreen) {\r\n      this.fsQuad.material = this.basic;\r\n      this.basic.map = readBuffer.texture;\r\n\r\n      renderer.setRenderTarget(null);\r\n      renderer.clear();\r\n      this.fsQuad.render(renderer);\r\n    }\r\n\r\n    // 1. Extract Bright Areas\r\n\r\n    this.highPassUniforms[\"tDiffuse\"].value = readBuffer.texture;\r\n    this.highPassUniforms[\"luminosityThreshold\"].value = this.threshold;\r\n    this.fsQuad.material = this.materialHighPassFilter;\r\n\r\n    renderer.setRenderTarget(this.renderTargetBright);\r\n    renderer.clear();\r\n    this.fsQuad.render(renderer);\r\n\r\n    // 2. Blur All the mips progressively\r\n\r\n    let inputRenderTarget = this.renderTargetBright;\r\n\r\n    for (let i = 0; i < this.nMips; i++) {\r\n      this.fsQuad.material = this.separableBlurMaterials[i];\r\n\r\n      this.separableBlurMaterials[i].uniforms[\"colorTexture\"].value =\r\n        inputRenderTarget.texture;\r\n      this.separableBlurMaterials[i].uniforms[\"direction\"].value =\r\n        UnrealBloomPass.BlurDirectionX;\r\n      renderer.setRenderTarget(this.renderTargetsHorizontal[i]);\r\n      renderer.clear();\r\n      this.fsQuad.render(renderer);\r\n\r\n      this.separableBlurMaterials[i].uniforms[\"colorTexture\"].value =\r\n        this.renderTargetsHorizontal[i].texture;\r\n      this.separableBlurMaterials[i].uniforms[\"direction\"].value =\r\n        UnrealBloomPass.BlurDirectionY;\r\n      renderer.setRenderTarget(this.renderTargetsVertical[i]);\r\n      renderer.clear();\r\n      this.fsQuad.render(renderer);\r\n\r\n      inputRenderTarget = this.renderTargetsVertical[i];\r\n    }\r\n\r\n    // Composite All the mips\r\n\r\n    this.fsQuad.material = this.compositeMaterial;\r\n    this.compositeMaterial.uniforms[\"bloomStrength\"].value = this.strength;\r\n    this.compositeMaterial.uniforms[\"bloomRadius\"].value = this.radius;\r\n    this.compositeMaterial.uniforms[\"bloomTintColors\"].value =\r\n      this.bloomTintColors;\r\n\r\n    renderer.setRenderTarget(this.renderTargetsHorizontal[0]);\r\n    renderer.clear();\r\n    this.fsQuad.render(renderer);\r\n\r\n    // Blend it additively over the input texture\r\n\r\n    this.fsQuad.material = this.materialCopy;\r\n    this.copyUniforms[\"tDiffuse\"].value =\r\n      this.renderTargetsHorizontal[0].texture;\r\n\r\n    if (maskActive) renderer.state.buffers.stencil.setTest(true);\r\n\r\n    if (this.renderToScreen) {\r\n      renderer.setRenderTarget(null);\r\n      this.fsQuad.render(renderer);\r\n    } else {\r\n      renderer.setRenderTarget(readBuffer);\r\n      this.fsQuad.render(renderer);\r\n    }\r\n\r\n    // Restore renderer settings\r\n\r\n    renderer.setClearColor(this._oldClearColor, this.oldClearAlpha);\r\n    renderer.autoClear = oldAutoClear;\r\n  }\r\n\r\n  getSeperableBlurMaterial(kernelRadius) {\r\n    return new ShaderMaterial({\r\n      defines: {\r\n        KERNEL_RADIUS: kernelRadius,\r\n        SIGMA: kernelRadius,\r\n      },\r\n\r\n      uniforms: {\r\n        colorTexture: { value: null },\r\n        texSize: { value: new Vector2(0.5, 0.5) },\r\n        direction: { value: new Vector2(0.5, 0.5) },\r\n      },\r\n\r\n      vertexShader: `varying vec2 vUv;\r\n\t\t\t\tvoid main() {\r\n\t\t\t\t\tvUv = uv;\r\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n\t\t\t\t}`,\r\n\r\n      fragmentShader: `#include <common>\r\n\t\t\t\tvarying vec2 vUv;\r\n\t\t\t\tuniform sampler2D colorTexture;\r\n\t\t\t\tuniform vec2 texSize;\r\n\t\t\t\tuniform vec2 direction;\r\n\r\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\r\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\r\n\t\t\t\t}\r\n        void main() {\r\n          vec2 invSize = 1.0 / texSize;\r\n          float fSigma = float(SIGMA);\r\n          float weightSum = gaussianPdf(0.0, fSigma);\r\n          float alphaSum = 0.0;\r\n          vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\r\n          for( int i = 1; i < KERNEL_RADIUS; i ++ ) {\r\n            float x = float(i);\r\n            float w = gaussianPdf(x, fSigma);\r\n            vec2 uvOffset = direction * invSize * x;\r\n            vec4 sample1 = texture2D( colorTexture, vUv + uvOffset);\r\n            vec4 sample2 = texture2D( colorTexture, vUv - uvOffset);\r\n            diffuseSum += (sample1.rgb + sample2.rgb) * w;\r\n            alphaSum += (sample1.a + sample2.a) * w;\r\n            weightSum += 2.0 * w;\r\n          }\r\n          gl_FragColor = vec4(diffuseSum/weightSum, alphaSum/weightSum);\r\n        }`,\r\n    });\r\n  }\r\n\r\n  getCompositeMaterial(nMips) {\r\n    return new ShaderMaterial({\r\n      defines: {\r\n        NUM_MIPS: nMips,\r\n      },\r\n\r\n      uniforms: {\r\n        blurTexture1: { value: null },\r\n        blurTexture2: { value: null },\r\n        blurTexture3: { value: null },\r\n        blurTexture4: { value: null },\r\n        blurTexture5: { value: null },\r\n        dirtTexture: { value: null },\r\n        bloomStrength: { value: 1.0 },\r\n        bloomFactors: { value: null },\r\n        bloomTintColors: { value: null },\r\n        bloomRadius: { value: 0.0 },\r\n      },\r\n\r\n      vertexShader: `varying vec2 vUv;\r\n\t\t\t\tvoid main() {\r\n\t\t\t\t\tvUv = uv;\r\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n\t\t\t\t}`,\r\n\r\n      fragmentShader: `varying vec2 vUv;\r\n\t\t\t\tuniform sampler2D blurTexture1;\r\n\t\t\t\tuniform sampler2D blurTexture2;\r\n\t\t\t\tuniform sampler2D blurTexture3;\r\n\t\t\t\tuniform sampler2D blurTexture4;\r\n\t\t\t\tuniform sampler2D blurTexture5;\r\n\t\t\t\tuniform sampler2D dirtTexture;\r\n\t\t\t\tuniform float bloomStrength;\r\n\t\t\t\tuniform float bloomRadius;\r\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\r\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\r\n\r\n\t\t\t\tfloat lerpBloomFactor(const in float factor) {\r\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\r\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvoid main() {\r\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +\r\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +\r\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +\r\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +\r\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\r\n\t\t\t\t}`,\r\n    });\r\n  }\r\n}\r\n\r\nUnrealBloomPass.BlurDirectionX = new Vector2(1.0, 0.0);\r\nUnrealBloomPass.BlurDirectionY = new Vector2(0.0, 1.0);\r\n\r\nexport { UnrealBloomPass };\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\nimport { extend, useThree, useFrame } from \"@react-three/fiber\";\r\nimport { EffectComposer } from \"three/examples/jsm/postprocessing/EffectComposer\";\r\nimport { ShaderPass } from \"three/examples/jsm/postprocessing/ShaderPass\";\r\nimport { RenderPass } from \"three/examples/jsm/postprocessing/RenderPass\";\r\nimport { UnrealBloomPass } from \"./CustomBloom\";\r\n\r\nextend({ EffectComposer, ShaderPass, RenderPass, UnrealBloomPass });\r\n\r\nexport default function Effects({ children }) {\r\n  const composer = useRef();\r\n  const { gl, size, camera } = useThree();\r\n  const [scene, setScene] = useState();\r\n  useEffect(\r\n    () => void composer.current.setSize(size.width, size.height),\r\n    [size]\r\n  );\r\n  useFrame(() => {\r\n    if (!scene || !composer.current) return;\r\n    composer.current.render();\r\n  }, 1);\r\n\r\n  const bloom = {\r\n    strength: 10,\r\n    radius: 0.1,\r\n    threshold: 0.003,\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <scene ref={setScene}>{children}</scene>\r\n      <effectComposer ref={composer} args={[gl]}>\r\n        <renderPass attachArray=\"passes\" scene={scene} camera={camera} />\r\n        <unrealBloomPass\r\n          attachArray=\"passes\"\r\n          args={[undefined, bloom.strength, bloom.radius, bloom.threshold]}\r\n        />\r\n      </effectComposer>\r\n    </>\r\n  );\r\n}\r\n","import React, { useRef } from \"react\";\r\nimport { useThree, useFrame } from \"@react-three/fiber\";\r\n\r\nexport default function NoEffects({ children }) {\r\n  const scene = useRef();\r\n  const { gl, camera } = useThree();\r\n  useFrame(() => {\r\n    gl.autoClear = false;\r\n    gl.clearDepth();\r\n    gl.render(scene.current, camera);\r\n  }, 2);\r\n\r\n  return <scene ref={scene}>{children}</scene>;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Smoke-Element.61bf287e.png\";","import { useRef, useMemo } from \"react\";\r\nimport { isBrowser } from \"react-device-detect\";\r\nimport { Vector4, Object3D, AdditiveBlending } from \"three\";\r\nimport { useTexture } from \"@react-three/drei\";\r\nimport { useFrame } from \"@react-three/fiber\";\r\nimport smokeImage from \"./Smoke-Element.png\";\r\n\r\nconst scratchObject3D = new Object3D();\r\n\r\nconst randn_bm = (min, max) => {\r\n  let u = 0,\r\n    v = 0;\r\n  while (u === 0) u = Math.random(); //Converting [0,1) to (0,1)\r\n  while (v === 0) v = Math.random();\r\n  let num = Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);\r\n\r\n  num = num / 10.0 + 0.5; // Translate to 0 -> 1\r\n  if (num > 1 || num < 0) num = randn_bm(min, max);\r\n  // resample between 0 and 1 if out of range\r\n  else {\r\n    num *= max - min; // Stretch to fill range\r\n    num += min; // offset to min\r\n  }\r\n  return num;\r\n};\r\n\r\nconst cloudCount = isBrowser ? 150 : 50;\r\nconst xRange = isBrowser ? 5000 : 2000;\r\n\r\nexport default function Smoke({ stage }) {\r\n  const meshRef = useRef();\r\n  const smokeTexture = useTexture(smokeImage);\r\n\r\n  const particles = useMemo(() => {\r\n    const particles = [];\r\n    for (let i = 0; i < cloudCount; i++) {\r\n      const x = randn_bm(-xRange, xRange);\r\n      const newParticle = new Vector4(\r\n        x,\r\n        Math.cos(x / 1250) * (Math.random() * 1200 - 600),\r\n        Math.random() * 500 - 3000,\r\n        Math.random() * 360\r\n      );\r\n      particles.push(newParticle);\r\n    }\r\n    return particles;\r\n  }, []);\r\n\r\n  useFrame(() => {\r\n    if (!meshRef.current) return;\r\n    if (meshRef.current.material.opacity < 0.13) {\r\n      meshRef.current.material.opacity += 0.0002;\r\n    }\r\n    for (let i = 0; i < particles.length; i++) {\r\n      particles[i].w += 0.0015;\r\n      const { x, y, z, w } = particles[i];\r\n      scratchObject3D.position.set(x, y, z);\r\n      scratchObject3D.rotation.set(0, 0, w);\r\n      scratchObject3D.updateMatrix();\r\n      meshRef.current.setMatrixAt(i, scratchObject3D.matrix);\r\n    }\r\n    meshRef.current.instanceMatrix.needsUpdate = true;\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {stage > 2 && (\r\n        <>\r\n          <pointLight\r\n            color={0xd8547e}\r\n            intensity={90}\r\n            distance={2200}\r\n            decay={1}\r\n            position={[-400, -100, -2500]}\r\n          />\r\n          <pointLight\r\n            color={0xcc6600}\r\n            intensity={50}\r\n            distance={2200}\r\n            decay={1}\r\n            position={[0, 0, -2500]}\r\n          />\r\n          <pointLight\r\n            color={0x3677ac}\r\n            intensity={50}\r\n            distance={2200}\r\n            decay={1}\r\n            position={[1200, -100, -2500]}\r\n          />\r\n          <instancedMesh\r\n            ref={meshRef}\r\n            args={[null, null, 150]}\r\n            frustumCulled={false}\r\n            renderOrder={1}\r\n          >\r\n            <planeBufferGeometry args={[900, 900]} />\r\n            <meshStandardMaterial\r\n              color=\"rgb(175, 154, 115)\"\r\n              map={smokeTexture}\r\n              transparent={true}\r\n              opacity={0}\r\n              depthWrite={false}\r\n              blending={AdditiveBlending}\r\n            />\r\n          </instancedMesh>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { useFrame, useThree } from \"@react-three/fiber\";\r\n\r\nexport default function Rig({ mouse, mouseRange }) {\r\n  const { camera } = useThree();\r\n  useFrame(() => {\r\n    camera.position.x +=\r\n      (mouse.current[0] / mouseRange.current - camera.position.x) * 0.05;\r\n    camera.position.y +=\r\n      (-mouse.current[1] / mouseRange.current - camera.position.y) * 0.05;\r\n    camera.lookAt(0, 0, 0);\r\n  });\r\n  return null;\r\n}\r\n","import { useCallback, useRef } from \"react\";\r\nimport { isBrowser } from \"react-device-detect\";\r\n\r\nconst clamp = (value, min, max) => {\r\n  if (value < min) return min;\r\n  if (value > max) return max;\r\n  return value;\r\n};\r\n\r\nconst maxY = isBrowser ? 1950 : 4000;\r\nconst minY = 0;\r\n\r\n//\r\n//  MOUSE \r\n//\r\n\r\nexport const useMouseInteraction = (\r\n  progress,\r\n  skip,\r\n  setStage,\r\n  scroll,\r\n  mouse\r\n) => {\r\n  const ignore = useRef(false);\r\n\r\n  const onMouseMove = useCallback(\r\n    (e) => {\r\n      mouse.current = [\r\n        2500 * (e.clientX / window.innerWidth - 0.5),\r\n        1500 * (e.clientY / window.innerHeight - 0.5),\r\n      ];\r\n    },\r\n    [mouse]\r\n  );\r\n\r\n  const onScroll = useCallback(\r\n    (e) => {\r\n      if (progress.current < 1 || ignore.current) return;\r\n\r\n      setStage((prevStage) => {\r\n        if (skip || prevStage > 2) {\r\n          scroll.current = clamp(scroll.current + e.deltaY * 0.8, minY, maxY);\r\n          return scroll.current >= maxY ? Infinity : 3;\r\n        }\r\n        ignore.current = true;\r\n        setTimeout(() => {\r\n          ignore.current = false;\r\n        }, 50);\r\n        return prevStage + 1;\r\n      });\r\n    },\r\n    [skip, progress, scroll, setStage]\r\n  );\r\n\r\n  const onClick = useCallback(\r\n    (e) => {\r\n      if (progress.current < 1 || ignore.current) return;\r\n\r\n      setStage((prevStage) => {\r\n        if (prevStage <= 2) {\r\n          ignore.current = true;\r\n          setTimeout(() => {\r\n            ignore.current = false;\r\n          }, 50);\r\n          return prevStage + 1;\r\n        }\r\n        return prevStage;\r\n      });\r\n    },\r\n    [setStage, progress]\r\n  );\r\n\r\n  return [onClick, onScroll, onMouseMove];\r\n};\r\n\r\n//\r\n//  TOUCH \r\n//\r\n\r\nexport const useTouchInteraction = (\r\n  progress,\r\n  skip,\r\n  setStage,\r\n  scroll,\r\n  swipingInProgress\r\n) => {\r\n  const ignore = useRef(false);\r\n\r\n  const prevScroll = useRef(0);\r\n  const onSwipeStart = useCallback(() => {\r\n    prevScroll.current = scroll.current;\r\n    swipingInProgress.current = true;\r\n  }, [scroll, swipingInProgress]);\r\n\r\n  const onSwipeStop = useCallback(() => {\r\n    prevScroll.current = scroll.current;\r\n    swipingInProgress.current = false;\r\n  }, [scroll, swipingInProgress]);\r\n\r\n  const onSwiping = useCallback(\r\n    (e) => {\r\n      if (progress.current < 1 || ignore.current) return;\r\n\r\n      setStage((prevStage) => {\r\n        if (skip || prevStage > 2) {\r\n          scroll.current = clamp(prevScroll.current - e.deltaY, minY, maxY);\r\n          return scroll.current >= maxY ? Infinity : 3;\r\n        }\r\n        ignore.current = true;\r\n        setTimeout(() => {\r\n          ignore.current = false;\r\n        }, 50);\r\n        return prevStage + 1;\r\n      });\r\n    },\r\n    [skip, progress, scroll, setStage]\r\n  );\r\n\r\n  return [onSwipeStart, onSwipeStop, onSwiping];\r\n};\r\n","import { useMouseInteraction } from \"./useInteractions\";\r\n\r\nexport default function Browser({\r\n  children,\r\n  scroll,\r\n  mouse,\r\n  progress,\r\n  skip,\r\n  setStage,\r\n}) {\r\n  const [onClick, onScroll, onMouseMove] = useMouseInteraction(\r\n    progress,\r\n    skip,\r\n    setStage,\r\n    scroll,\r\n    mouse\r\n  );\r\n  return (\r\n    <div\r\n      className=\"container\"\r\n      onPointerUp={onClick}\r\n      onWheel={onScroll}\r\n      onPointerMove={onMouseMove}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import { useSwipeable } from \"react-swipeable\";\r\nimport { useTouchInteraction } from \"./useInteractions\";\r\n\r\nexport default function Mobile({\r\n  children,\r\n  scroll,\r\n  progress,\r\n  skip,\r\n  setStage,\r\n  swipingInProgress,\r\n}) {\r\n  const [onSwipeStart, onSwipeStop, onSwiping] = useTouchInteraction(\r\n    progress,\r\n    skip,\r\n    setStage,\r\n    scroll,\r\n    swipingInProgress\r\n  );\r\n\r\n  const handlers = useSwipeable({\r\n    onSwipeStart: onSwipeStart,\r\n    onSwiping: onSwiping,\r\n    onSwiped: onSwipeStop,\r\n\r\n    delta: 10, // min distance(px) before a swipe starts. *See Notes*\r\n    preventDefaultTouchmoveEvent: false, // call e.preventDefault *See Details*\r\n    trackTouch: true, // track touch input\r\n    trackMouse: false, // track mouse input\r\n    rotationAngle: 0, // set a rotation angle\r\n  });\r\n\r\n  return (\r\n    <div className=\"container\" {...handlers}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import \"./Container.css\";\r\nimport { isBrowser } from \"react-device-detect\";\r\n\r\nimport Browser from \"./Browser\";\r\nimport Mobile from \"./Mobile\";\r\n\r\nexport default function Container({\r\n  children,\r\n  scroll,\r\n  mouse,\r\n  progress,\r\n  skip,\r\n  setStage,\r\n  swipingInProgress,\r\n}) {\r\n  return (\r\n    <>\r\n      {isBrowser ? (\r\n        <Browser\r\n          scroll={scroll}\r\n          mouse={mouse}\r\n          progress={progress}\r\n          skip={skip}\r\n          setStage={setStage}\r\n        >\r\n          {children}\r\n        </Browser>\r\n      ) : (\r\n        <Mobile\r\n          scroll={scroll}\r\n          progress={progress}\r\n          skip={skip}\r\n          setStage={setStage}\r\n          swipingInProgress={swipingInProgress}\r\n        >\r\n          {children}\r\n        </Mobile>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/sky.daecc913.jpg\";","import { useTexture } from \"@react-three/drei\";\r\nimport { useFrame } from \"@react-three/fiber\";\r\nimport { useRef } from \"react\";\r\nimport sky from \"./sky.jpg\";\r\nexport default function Background({ stage }) {\r\n  const matRef = useRef();\r\n  const background = useTexture(sky);\r\n\r\n  useFrame(() => {\r\n    if (stage >= 2 && matRef.current.opacity < 1) {\r\n      matRef.current.opacity += 0.001;\r\n    }\r\n  });\r\n  return (\r\n    <mesh position={[0, 0, -700]}>\r\n      <planeBufferGeometry args={[1780, 1000, 1000]} />\r\n      <meshBasicMaterial\r\n        ref={matRef}\r\n        map={background}\r\n        transparent={true}\r\n        opacity={0}\r\n      />\r\n    </mesh>\r\n  );\r\n}\r\n","import { useRef, useState, Suspense } from \"react\";\nimport { Canvas } from \"@react-three/fiber\";\nimport { OrbitControls, Stats, Loader } from \"@react-three/drei\";\nimport { isBrowser } from \"react-device-detect\";\n\nimport Particles from \"../Particles/Particles\";\nimport ScrollDown from \"../ScrollDown/ScrollDown\";\nimport Sky from \"../Sky/Sky\";\nimport Content from \"../Content/Content\";\nimport Effects from \"../Effects/Effects\";\nimport NoEffects from \"../NoEffects/NoEffects\";\nimport Smoke from \"../Smoke/Smoke\";\nimport Rig from \"../../Rig\";\nimport Container from \"../Container/Container\";\nimport Background from \"../Background/Background\";\nimport { useSkip } from \"./useSkip\";\n\nconst debug = false;\n\nexport default function App({ lowQuality }) {\n  const progress = useRef(2);\n  const mouse = useRef([0, 0]);\n  const mouseRange = useRef(5);\n  const scroll = useRef(0);\n  const swipingInProgress = useRef(false);\n  const [stage, setStage] = useState(0);\n  const [ready, setReady] = useState(false);\n\n  const skip = useSkip(debug, lowQuality);\n  return (\n    <Container\n      scroll={scroll}\n      mouse={mouse}\n      progress={progress}\n      skip={skip}\n      swipingInProgress={swipingInProgress}\n      setStage={setStage}\n    >\n      <Canvas camera={{ position: [0, 0, 700], fov: 40, far: 10000 }}>\n        <Suspense fallback={null}>\n          {ready && !skip && stage <= 2 && (\n            <>\n              <Effects>\n                <Particles\n                  stage={stage}\n                  setStage={setStage}\n                  mouseRange={mouseRange}\n                  progress={progress}\n                />\n              </Effects>\n            </>\n          )}\n          <NoEffects>\n            <Content\n              scroll={scroll}\n              stage={stage}\n              debug={debug}\n              skip={skip}\n              swipingInProgress={swipingInProgress}\n              ready={ready}\n              setReady={setReady}\n            />\n            {isBrowser ? (\n              <>\n                <Stats className=\"stats\" />\n                <Sky lowQuality={lowQuality} />\n                {!lowQuality && <Smoke stage={stage} />}\n                <Rig mouse={mouse} mouseRange={mouseRange} />\n              </>\n            ) : (\n              <Background stage={stage} />\n            )}\n          </NoEffects>\n          {/* <OrbitControls /> */}\n        </Suspense>\n      </Canvas>\n      {!isBrowser && <Loader />}\n      {stage < Infinity && <ScrollDown />}\n    </Container>\n  );\n}\n","import { useEffect, useState } from \"react\";\r\n\r\nexport const useSkip = (debug, lowQuality) => {\r\n  const [skip, setSkip] = useState(false);\r\n  useEffect(() => {\r\n    setSkip(debug || lowQuality);\r\n  }, [debug, lowQuality]);\r\n  return skip;\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nexport const ProgressContainer = styled.div`\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  height: 120px;\r\n  font-size: 1.2rem;\r\n`;\r\n\r\nexport const Row = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  width: 100px;\r\n`;\r\n","import { useEffect, useState } from \"react\";\r\n\r\nexport default function Dots() {\r\n  const [dots, setDots] = useState(\"...\");\r\n\r\n  useEffect(() => {\r\n    let t;\r\n    const update = () => {\r\n      t = setTimeout(() => {\r\n        setDots((dots) => {\r\n          if (dots.length === 3) return \"\";\r\n          if (dots.length === 0) return \".\";\r\n          if (dots.length === 1) return \"..\";\r\n          if (dots.length === 2) return \"...\";\r\n        });\r\n        update();\r\n      }, 500);\r\n    };\r\n    update();\r\n    return () => {\r\n      clearTimeout(t);\r\n    };\r\n  }, []);\r\n  return <>{dots}</>;\r\n}\r\n","import { useProgress } from \"@react-three/drei\";\r\nimport { useEffect } from \"react\";\r\nimport { ProgressContainer, Row } from \"./ProgressStyle\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport Dots from \"./Dots\";\r\n\r\nexport default function Progress({ onOpenLayer }) {\r\n  const { active, progress } = useProgress();\r\n\r\n  useEffect(() => {\r\n    if (active === false && progress > 0) {\r\n      setTimeout(() => {\r\n        onOpenLayer();\r\n      }, 300);\r\n    }\r\n  }, [progress, active, onOpenLayer]);\r\n\r\n  return (\r\n    <ProgressContainer>\r\n      <CircularProgress\r\n        variant=\"determinate\"\r\n        value={progress}\r\n        size={80}\r\n        style={{ color: \"#FFFFFF\" }}\r\n      />\r\n      <Row>\r\n        LOADING <Dots />\r\n      </Row>\r\n    </ProgressContainer>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Tooltip, IconButton } from \"@mui/material\";\r\n\r\nexport const Container = styled.div`\r\n  position: fixed;\r\n  top: 5px;\r\n  left: 5px;\r\n`;\r\nexport const StyledIconButton = styled(IconButton)`\r\n  color: white !important;\r\n  background-color: rgba(255, 255, 255, 0.3) !important;\r\n  height: 45px;\r\n  width: 45px;\r\n`;\r\nconst Text = styled.div`\r\n  font-weight: 900;\r\n  font-size: 0.9rem;\r\n  font-family: \"Quicksand\", sans-serif;\r\n`;\r\n\r\nexport default function QualityButton({ quality, onResetQuality }) {\r\n  return (\r\n    <Container>\r\n      <Tooltip title=\"Change quality\">\r\n        <StyledIconButton onClick={onResetQuality}>\r\n          <Text>{quality ? \"LQ\" : \"HQ\"}</Text>\r\n        </StyledIconButton>\r\n      </Tooltip>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Info = styled.div`\r\n  position: fixed;\r\n  color: white;\r\n  left: 5px;\r\n  top: 5px;\r\n  font-size: 1rem;\r\n  font-family: \"Quicksand\", sans-serif;\r\n  z-index: 9999;\r\n`;\r\n\r\nexport const QSBackground = styled.div`\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: ${({ showBackground }) =>\r\n    showBackground\r\n      ? \"linear-gradient(to top, #070c13 0%, #05263d 100%)\"\r\n      : \"transparent\"};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  font-family: \"Quicksand\", sans-serif;\r\n  overflow: hidden;\r\n`;\r\nexport const QSTop = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: absolute;\r\n  top: 40px;\r\n  transition: ${({ transition }) => transition};\r\n  opacity: ${({ opacity }) => opacity};\r\n`;\r\nexport const QSName = styled.div`\r\n  font-size: 3rem;\r\n`;\r\nexport const QSSubHeading = styled.div`\r\n  font-size: 1.8rem;\r\n`;\r\nexport const QSContainer = styled.div`\r\n  width: 350px;\r\n  border-radius: 25px;\r\n  padding: 16px;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  box-shadow: white 0px 0px 15px;\r\n  position: relative;\r\n  transition: top 1000ms cubic-bezier(0.075, 0.82, 0.165, 1);\r\n  top: ${({ top }) => top};\r\n`;\r\nexport const QSTitle = styled.div`\r\n  font-size: 1.6rem;\r\n`;\r\nexport const QSButtonsContainer = styled.div`\r\n  display: flex;\r\n  margin-top: 15px;\r\n`;\r\nexport const QSButton = styled.div`\r\n  box-shadow: white 0px 0px 5px;\r\n  color: white;\r\n  margin: 10px;\r\n  padding: 15px;\r\n  border-radius: 10px;\r\n  width: 70px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: ${({ cursor }) => (cursor ? cursor : \"pointer\")};\r\n  font-weight: 900;\r\n  transition: background-position 0.2s ease-in-out;\r\n  background-image: linear-gradient(to top, white 50%, transparent 50%);\r\n  background-size: 100% 200%;\r\n  background-position: top;\r\n  &:hover {\r\n    background-position: bottom;\r\n    color: black;\r\n  }\r\n`;\r\nconst Triangle = styled.div`\r\n  position: absolute;\r\n  z-index: 0;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: linear-gradient(to top, #070c13 0%, #05263d 100%);\r\n  transition: all 0.8s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n  cursor: ${({ cursor }) => (cursor ? cursor : \"\")};\r\n`;\r\nexport const TriangleTop = styled(Triangle)`\r\n  clip-path: ${({ open }) =>\r\n    open\r\n      ? \"polygon(50% 0, 100% 0, 100% 50%, 100% 0)\"\r\n      : \"polygon(50% 0, 50% 50%, 100% 50%, 100% 0)\"};\r\n`;\r\nexport const TriangleBottom = styled(Triangle)`\r\n  clip-path: ${({ open }) =>\r\n    open\r\n      ? \"polygon(0 50%, 0 100%, 50% 100%, 0 100%)\"\r\n      : \"polygon(0 50%, 50% 50%, 50% 100%, 0 100%)\"};\r\n`;\r\nexport const TriangleLeft = styled(Triangle)`\r\n  clip-path: ${({ open }) =>\r\n    open\r\n      ? \"polygon(0 0, 50% 0, 0 0, 0 50%)\"\r\n      : \"polygon(0 0, 50% 0, 50% 50%, 0 50%)\"};\r\n`;\r\nexport const TriangleRight = styled(Triangle)`\r\n  clip-path: ${({ open }) =>\r\n    open\r\n      ? \"polygon(100% 100%, 100% 50%, 100% 100%, 50% 100%)\"\r\n      : \"polygon(50% 50%, 100% 50%, 100% 100%, 50% 100%)\"};\r\n`;\r\n","import { useCallback, useEffect, useState } from \"react\";\r\nimport Progress from \"../Progress/Progress.js\";\r\nimport QualityButton from \"../QualityButton/QualityButton.js\";\r\n\r\nimport {\r\n  Info,\r\n  QSBackground,\r\n  QSButton,\r\n  QSButtonsContainer,\r\n  QSContainer,\r\n  QSName,\r\n  QSSubHeading,\r\n  QSTitle,\r\n  QSTop,\r\n  TriangleTop,\r\n  TriangleBottom,\r\n  TriangleLeft,\r\n  TriangleRight,\r\n} from \"./QualitySelectStyle.js\";\r\n\r\nexport default function QualitySelect({ quality, setQuality }) {\r\n  const [opacity, setOpacity] = useState(0);\r\n  const [transition, setTransition] = useState(\"5s\");\r\n  const [top, setTop] = useState(\"65%\");\r\n  const [open, setOpen] = useState(false);\r\n  const [showBackground, setShowBackground] = useState(true);\r\n  const [cursor, setCursor] = useState(null);\r\n  const [showProgress, setShowProgress] = useState(false);\r\n  const [showQualityLayer, setShowQualityLayer] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setOpacity(1);\r\n    setTop(0);\r\n  }, []);\r\n\r\n  const onOpenLayer = useCallback(() => {\r\n    setTransition(\"800ms\");\r\n    setOpacity(0);\r\n    setShowBackground(false);\r\n    setOpen(true);\r\n    setShowProgress(false);\r\n    setTimeout(() => {\r\n      setShowQualityLayer(false);\r\n    }, 800);\r\n  }, []);\r\n\r\n  const onSelectQuality = useCallback(\r\n    (value) => {\r\n      const removeOptionsContainer = () => {\r\n        setTop(\"65%\");\r\n        setCursor(\"wait\");\r\n      };\r\n      const initThree = () => {\r\n        setQuality(value);\r\n        setShowProgress(true);\r\n      };\r\n\r\n      removeOptionsContainer();\r\n      setTimeout(() => {\r\n        initThree();\r\n      }, 450);\r\n    },\r\n    [setQuality]\r\n  );\r\n\r\n  const onResetQuality = useCallback(() => {\r\n    setCursor(null);\r\n    setShowQualityLayer(true);\r\n    setOpen(false);\r\n    setTimeout(() => {\r\n      setQuality(null);\r\n      setShowBackground(true);\r\n      setOpacity(1);\r\n      setTop(0);\r\n    }, 800);\r\n  }, [setQuality]);\r\n  return (\r\n    <>\r\n      <TriangleTop open={open} cursor={cursor} />\r\n      <TriangleBottom open={open} cursor={cursor} />\r\n      <TriangleLeft open={open} cursor={cursor} />\r\n      <TriangleRight open={open} cursor={cursor} />\r\n      {showQualityLayer ? (\r\n        <QSBackground showBackground={showBackground}>\r\n          <QSTop opacity={opacity} transition={transition}>\r\n            <QSName>DAVID BEALE</QSName>\r\n            <QSSubHeading>PERSONAL PROJECTS</QSSubHeading>\r\n          </QSTop>\r\n          <Info>*Chrome recommended*</Info>\r\n          <QSContainer top={top}>\r\n            <QSTitle>Select Quality</QSTitle>\r\n            <QSButtonsContainer>\r\n              <QSButton cursor={cursor} onClick={() => onSelectQuality(1)}>\r\n                LOW\r\n              </QSButton>\r\n              <QSButton cursor={cursor} onClick={() => onSelectQuality(0)}>\r\n                HIGH\r\n              </QSButton>\r\n            </QSButtonsContainer>\r\n          </QSContainer>\r\n          {showProgress && <Progress onOpenLayer={onOpenLayer} />}\r\n        </QSBackground>\r\n      ) : (\r\n        <QualityButton quality={quality} onResetQuality={onResetQuality} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport App from \"../App/App\";\r\nimport { isBrowser } from \"react-device-detect\";\r\nimport QualitySelect from \"./QualitySelect/QualitySelect\";\r\n\r\nexport default function QualityCheck() {\r\n  const [quality, setQuality] = useState(null);\r\n\r\n  return (\r\n    <>\r\n      {(!isBrowser || quality !== null) && <App lowQuality={quality} />}\r\n      {isBrowser && <QualitySelect quality={quality} setQuality={setQuality} />}\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n\nimport QualityCheck from \"./Components/QualitySelect/QualityCheck\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <QualityCheck />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}